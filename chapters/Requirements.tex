\section{Requirements - SWID Generator}

\subsection{Nicht-Funktional}

\begin{itemize}
    \item Als Implementationsprache wird Python verwendet
    \item Es sollen möglichst wenig Abhängigkeiten zu Drittkomponenten wie
			Libraries/Framworks entstehen. Wo möglich sollen Komponenten aus der
			Python-Standardlibrary verwendet werden.
    \item Die Software soll einfach zu installieren sein, beispielsweise durch
			Upload in den Python Package Index ($\rightarrow$ \texttt{pip install
			swid-generator}) oder durch Erstellen von \texttt{.deb}-Paketen.
    \item Als Quelle der Paketinformationen sollen yum und dpkg verwendet werden
\end{itemize}

Nachfolgend sind sind die identifizierten Use Cases für die Client Komponenten des SWID-Generator aufgeführt.

\subsection{UC01: Erkennung des Paketmanagers}

\paragraph{Standard Szenario}
Der SWID-Generator erkennt automatisch den System-Paketmanager und greift auf
dessen Datenbank zu.

\paragraph{Alternatives Szenario}
Mittels optionalem Parameter kann der zu verwendende Packagemanager definiert
werden, die Autoerkennung wird dadurch übersteuert.

\subsection{UC02: Standard SWID Generierung}

Die IMC Komponente kann via stdout des SWID-Generators XML Dokumente erhalten, welche Informationen über die zur Zeit installierte Software des Zielsystems beinhalten.
Das Format dieser XML Dokumente folgt dem ISO Draft 19770-2-5
Für jedes installierte Paket wird ein eigenes ein XML Dokument generiert.
Diese Dokumente bestehen im wesentlichen aus einem SoftwareIdentity-Tag als Root-Knoten und einem Entity-Tag als Kind-Knoten. Die Information findet sich in den entsprechenden Attributen.

\begin{minted}{xml}
<?xml version='1.0' encoding='UTF-8'?>
<SoftwareIdentity
    name="apparmor"
    uniqueId="Ubuntu_13.10-apparmor-2.8.0-0ubuntu31.1"
    version="2.8.0-0ubuntu31.1"
    versionScheme="alphanumeric"
    xmlns="http://standards.iso.org/iso/19770/-2/2014/schema.xsd">

    <Entity
        name="strongSwan"
        regid="regid.2004-03.org.strongswan"
        role="tagcreator" />
</SoftwareIdentity>
\end{minted}

\paragraph{Standard Szenario}
Die Attribute werden mit vordefinierten Standardwerten befüllt. Siehe Codelisting oben (TODO: referenz).

\paragraph{Alternatives Szenario}
Die Attribute können mittels optionalem Parametern spezifiziert werden.

\subsection{UC03: SWID Tag mit File Payload}
Mittels optionalem Parameter können die XML Dokumente mit einem Payload-Tag versehen werden, welcher für jedes Paket die darin enthaltenen Dateien auflistet.
TODO Beispiel

\subsection{UC04: Ausgabe der Dokumente}

\paragraph{Standard Szenario}
Der Benutzer möchte die XML Dokumente parsen. Dafür führt er den Generator mit
Default-Parametern aus. Standardmässig wird jedes XML Dokument auf einer einzelnen Zeile
mit Newlines getrennt ausgegeben.

\paragraph{Alternatives Szenario}
Der Benutzer möchte die Dokumente in menschenlesbarer Form ausgeben (pretty
print). Das steuert er über optionale Parameter. Diese Ausgabe der Tags ist dann
hierarchisch eingerückt um so die Lesbarkeit sicherzustellen.


\section{Requirements - strongTNC SWID Management}

\subsection{UC01: CMDB, Softwareinventar}

Der Benutzer möchte feststellen, welche Software in welcher Version, zu einem
bestimmten Zeitpunkt auf einem Device installiert war. Dafür kann er den
momentanen Zustand sowie Zustände zu Messzeitpunkten in der Vergangenheit
betrachten.

\subsection{UC02: Detaillierte SWID-Tag Information}

Der Benutzer kann feststellen welche Dateien zu einem bestimmten Paket gehören.
Er kann den Namen sowie den Pfad der Datei einsehen.

\subsection{UC03: Verfügbare Tag Entities auflisten}

Es ist möglich alle im System erfassten Entities aufzulisten. In der
Detailansicht der Entities sind alle dazugehörigen SWID-Tags ersichtlich.

\subsection{UC04: Verfügbare SWID-Tags auflisten}

Es ist möglich alle im System erfassten SWID-Tags aufzulisten. In der
Detailansicht der Tags sind alle Devices ersichtlich, auf welchen der
betreffende Tag installiert ist und war.

\subsection{Auflisten aller Tags zu einem File}

Der Benutzer kann auflisten, welche Tags ein bestimmtes File enthalten.
